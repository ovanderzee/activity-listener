!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).activityListener=n()}(this,(function(){"use strict";return function(){let e=!0,n=new WeakMap;const t=function(e,t,i){const o={passive:!0,capture:!0},c=`on${t}`,u=n.get(i);c in window?window[e+"EventListener"](t,u,o):c in document?document[e+"EventListener"](t,u,o):"add"===e&&console.warn(`activityListener rejected ${t}-event`)};return{clear:function(){n=new WeakMap},erase:function(e,i){t("remove",e,n.get(i)),n.delete(i)},pause:function(){e=!1},register:function(i,o){n.set(o,(function(t){!function(t,i){if(e&&n.get(i))try{i(t)}catch(e){console.error("activityListener caught faulty callback")}}(t,o)})),t("add",i,o)},resume:function(){e=!0}}}()}));
//# sourceMappingURL=activityListener.js.map
