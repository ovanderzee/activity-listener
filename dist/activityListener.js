!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).activityListener=t()}(this,(function(){"use strict";return function(){let e=!0;const t=new Map,n=function(e,n,o){const i={passive:!0,capture:!0},c=`on${n}`,r=t.get(o).procedure;c in window?window[e+"EventListener"](n,r,i):c in document?document[e+"EventListener"](n,r,i):"add"===e&&console.warn(`activityListener rejected ${n}-event`)},o=function(e,o){n("remove",e,o),t.delete(o)},i=function(){for(let[e,n]of t)o(n.type,e)};return{clear:i,destroy:i,erase:o,pause:function(){e=!1},register:function(o,i){t.set(i,{type:o,procedure:function(t){!function(t,n){if(e)try{n(t)}catch(e){console.error("activityListener caught faulty callback")}}(t,i)}}),n("add",o,i)},resume:function(){e=!0}}}()}));
//# sourceMappingURL=activityListener.js.map
